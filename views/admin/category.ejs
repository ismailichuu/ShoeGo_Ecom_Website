<div class="p-6">
  <!-- Header -->
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-2xl font-semibold">Category management</h2>

    <div class="flex items-center mb-4">
  <input 
    type="text" 
    id="searchInputCategory"
    name="search"
    placeholder="Search here...." 
    class=" px-4 py-2 border rounded-md focus:outline-none focus:ring focus:border-indigo-400"
    value="<%= typeof search !== 'undefined' ? search : '' %>"
  />
</div>
  </div>

  <!-- Buttons -->
  <div class="flex gap-3">
    <button class="bg-blue-600 text-white px-4 py-2 rounded-md flex items-center" id="addCategory">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
      New
    </button>
  </div>
</div>


<!-- Table -->
<div class="overflow-x-auto rounded-lg border border-gray-200">
  <table class="w-full text-left text-sm">
    <thead class="bg-purple-700 text-white">
      <tr>
        <th class="py-3 px-4">Name</th>
        <th class="py-3 px-4">Description</th>
        <th class="py-3 px-4">Discounts/Offers</th>
        <th class="py-3 px-4">Availablility</th>
        <th class="py-3 px-4">Actions</th>
      </tr>
    </thead>
    <tbody id="categoryTableBody" class="text-gray-700">
      <% if(categories && categories.length> 0) {%>
        <% categories.forEach(category=> { %>
        <!-- Row Example -->
        <tr class="border-t">
          <td class="py-3 px-4">
            <%= category.name %>
          </td>
          <td class="py-3 px-4">
            <%= category.description %>
          </td>
          <td class="py-3 px-4">
            <%= category.discount %>
          </td>
          <td class="py-3 px-4">
            <%= category.visibility ? 'Active' : 'Inactive' %>
          </td>
          <td class="py-3 px-4 flex gap-2">
            <button class="text-gray-600 hover:text-blue-600" onclick="editCategory('<%= category._id %>')"><i
                class="fas fa-edit"></i></button>
            <button class="text-gray-600 hover:text-red-600" onclick="deleteCategory('<%= category._id %>')"><i
                class="fas fa-trash"></i></button>
          </td>
        </tr>
          <% }) %>
           <% } else { %>
        <tr>
          <td colspan="7" class="text-center py-4 text-gray-500">No coupons</td>
        </tr>
        <% } %>
      </tbody>
  </table>
</div>

<!-- Pagination -->

  <div id="paginationContainerCategory" class="flex space-x-1 pt-1 justify-center">
  <% for (let i = 1; i <= totalPages; i++) { %>
    <button 
      class="px-3 py-1 <%= i === currentPage ? 'bg-indigo-600 text-white' : 'bg-gray-200 hover:bg-gray-300' %> rounded pagination-btn"
      data-page="<%= i %>">
      <%= i %>
    </button>
  <% } %>
</div>
