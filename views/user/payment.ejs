<% title='ShoeGo | Select Payment Method' %>

<form id="placeOrderForm" action="/place-order" method="POST">
  <main class="px-10 py-8 flex justify-between gap-10 bg-gray-300 min-h-screen">

    <!-- Payment Options -->
    <section class="w-2/3">
      <h1 class="text-3xl font-bold mb-6">Select Payment Method</h1>

      <!-- Progress -->
      <div class="flex items-center mb-8 text-sm text-gray-600 font-medium space-x-4">
        <div>ðŸ›’ Cart</div>
        <div>âžœ</div>
        <div>ðŸšš Shipping</div>
        <div>âžœ</div>
        <div class="text-black">ðŸ’³ Payment</div>
      </div>

      <!-- Payment Methods -->
      <label class="flex items-center p-4 mb-2 bg-gray-200 rounded cursor-pointer shadow-sm hover:shadow-md">
        <input type="radio" name="paymentMethod" value="razorpay" class="mr-4" disabled>
        <span class="font-medium">Razorpay 
          <span class="text-sm text-gray-500 ml-2">- shoego@okicici</span>
        </span>
      </label>

      <label class="flex items-center mb-2 p-4 bg-gray-200 rounded cursor-pointer shadow-sm hover:shadow-md">
        <input type="radio" name="paymentMethod" value="gpay" class="mr-4" disabled>
        <span class="font-medium">GPay 
          <span class="text-sm text-gray-500 ml-2">Pay by any UPI app</span>
        </span>
      </label>

      <label class="flex items-center p-4 mb-2 bg-gray-200 rounded cursor-pointer shadow-sm hover:shadow-md">
        <input type="radio" name="paymentMethod" value="card" class="mr-4" disabled>
        <span class="font-medium">Credit/Debit/ATM Card 
          <span class="text-sm text-gray-500 ml-2">Secure card payment</span>
        </span>
      </label>

      <label class="flex items-center p-4 mb-2 bg-gray-200 rounded cursor-pointer shadow-sm hover:shadow-md">
        <input type="radio" name="paymentMethod" value="wallet" class="mr-4" disabled>
        <span class="font-medium">Wallets 
          <span class="text-sm text-gray-500 ml-2">Use your ShoeGo wallet</span>
        </span>
      </label>

      <label class="flex items-center p-4 mb-2 bg-gray-200 rounded cursor-pointer shadow-sm hover:shadow-md">
        <input type="radio" name="paymentMethod" value="cod" class="mr-4" checked>
        <span class="font-medium">Cash on Delivery</span>
      </label>

      <input type="hidden" name="orderId" value="<%= orderId %>">
    </section>

    <!-- Order Summary -->
    <aside class="w-1/3 p-6 mt-5">
      <%- include('../partials/orderSummary') %>

      <!-- Submit Button is now placed under order summary -->
      <button type="submit"
        class="w-full bg-black text-white py-2 mt-6 rounded-2xl hover:bg-gray-800">Continue</button>
    </aside>

    <!-- Payment Success Modal -->
    <div id="paymentSuccessModal"
      class="fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-black/30 z-50 hidden">
      <div class="bg-white rounded-lg shadow-xl w-full max-w-md text-center p-6 relative">

        <!-- Success Icon -->
        <img src="/images/success-icon.png" alt="Success" class="mx-auto mb-4">

        <!-- Message -->
        <h2 class="text-xl font-semibold text-gray-700 mb-2">Your payment was successful</h2>
        <p class="text-sm text-black mb-1">Your order is placed</p>
        <p class="text-sm text-black mb-6">Item will be delivered on 
          <span id="deliveryDate"><%= deliveryDate %></span>
        </p>

        <!-- Buttons -->
        <div class="flex justify-center gap-4">
          <a href="/allProducts" class="bg-black hover:bg-gray-700 text-white px-5 py-2 rounded-2xl font-semibold">
            Continue Shopping
          </a>
          <a href="/orders"
            class="border border-black text-gray-600 px-5 py-2 rounded-2xl font-semibold hover:bg-purple-50">
            View orders
          </a>
        </div>
      </div>
    </div>

  </main>
</form>
